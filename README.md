# Smart Consulting HR Bot
Бот для ведения диалога в контексте корпоративной базы знаний компании Smart Consulting. Боту можно задать вопрос и получить ответ на него исходя из нормативной документации компании.
## Разделы
- [Стек технологий](#стек-технологий)
- [Анализ задачи](#анализ-задачи)
- [Описание проекта](#описание-проекта)
- [Тестовый датасет](#тестовый-датасет)
- [Инструкция для запуска](#инструкция-для-запуска)

## Стек технологий
Основной backend-стек:

Язык:
- Python 3.10

Модель:
- saiga2_13b_gguf

Средство поиска релевантных фрагментов документов:
- LangChain Retrievers

И другие библиотеки:
- HuggingFace
- SentenceTransformers
- Chromadb
- Requests
- FastAPI
- Aiogram
- Pandas
## Анализ задачи
Формулировка задачи:
Создание вопросно-ответной системы для ответа на вопросы, связанные с нормативной документацией и кодексом компании.
Проблематика:
- Высокая нагрузка на HR в компании
- Сложность восприятия новыми сотрудниками нормативной документации
- Большое количество разрозненной информации трудной для запоминания
Для решения поставленной задачи мы провели анализ существующих моделей, а также протестировали некоторые из них на практике.
Основные критерии отбора моделей:
- Системные требования(чем ниже, тем лучше)
- Качество модели
- Быстродействие модели
- Масштабируемость
- Лицензирование

## Описание проекта
Наш проект представляет из себя следующую архитектуру:

![архитектура](https://github.com/MrRobinGoood/Smart-Consulting-HR-Bot/blob/master/other/image.png)

Структура
- Бэкенд написан на FastAPI как отдельный микросервис, что позволяет независимо работать с моделью
- Телеграм-бот находится в отдельной папке, запускается файлом run_bot

## Тестовый датасет
Нами была проведена обработка тестового датасета, результат в [файле](https://github.com/MrRobinGoood/Smart-Consulting-HR-Bot/blob/master/other/sub.xlsx) 
## Инструкция для запуска
Для нашего решения доступна демо-версия по данному адресу https://t.me/HR_SmartConsulting_BOT
### Для локального запуска на машине
Пошаговая инструкция:
1. Вам необходимо склонировать репозиторий
2. Ссылка на модель, её нужно поместить в корневую папку проекта https://huggingface.co/IlyaGusev/saiga2_13b_gguf/resolve/main/model-q4_K.gguf
3. Для запуска проекта вам потребуется python версии 3.10, а также установленный pip
4. Создайте виртуальное окружение venv и активируйте его
5. Для запуска следующих скриптов перейдите в корневую директорию проекта
6. Запустите командную строку из корневой директории проекта
7. Выполните следующую команду ```pip install -r requirements.txt``` для загрузки всех библиотек-зависимостей
8. Командой  ```uvicorn app:app --reload``` вы можете запустить backend-сервис
9. Перейдите в директорию telegram_bot и запустите файл run_bot для запуска файла, предварительно сменив key в файле consts.py
10. Теперь вы можете перейти в телеграм бота по ссылке https://t.me/HR_SmartConsulting_BOT и проверить работоспособность решения

Для остановки backend сервиса нажмите комбинацию клавиш ctrl+c или остановите выполняемый процесс
